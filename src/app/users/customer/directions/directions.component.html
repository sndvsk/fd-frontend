<div class="map-section margin-top-main">
  <div class="margin-left"></div>
  <div
    class="map-container"
    *ngIf="apiLoaded | async"
  >
    <google-map
      width="100%"
      height="100%"
      [zoom]="zoom"
    >
      <map-directions-renderer
        *ngIf="directionsResults$ | async as directionsResults"
        [directions]="directionsResults"
      ></map-directions-renderer>

      <map-marker
        *ngFor="let markerPosition of markerPositions; let i = index"
        [position]="markerPosition"
        (mapClick)="openInfoWindow(marker)"
        #marker="mapMarker"
      >
      </map-marker>
      <map-info-window>{{ infoContent }}</map-info-window>
      <map-bicycling-layer></map-bicycling-layer>
      <map-traffic-layer [autoRefresh]="false"></map-traffic-layer>
      <map-transit-layer></map-transit-layer>
    </google-map>
  </div>
  <div class="text-container">
    <h1>Please, do not leave this page.</h1>
    <p>Estimated travel time: {{ totalDuration }}</p>
    <p>Delivery countdown: {{ deliveryCountdown }}</p>
  </div>
  <div class="margin-right"></div>
</div>
