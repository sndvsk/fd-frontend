<div class="container">
    <div class="customer-form">
    <form (ngSubmit)="onUserSubmit()">
        <h2>Fill in user fields that you want to change</h2>

        <mat-form-field appearance="fill">
        <mat-label>First Name</mat-label>
        <input matInput type="text" [(ngModel)]="user.firstname" [readonly]="!editModeUser" name="firstname" id="firstname" placeholder="First name">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Last Name</mat-label>
        <input matInput type="text" [(ngModel)]="user.lastname" [readonly]="!editModeUser" name="lastname" id="lastname" placeholder="Last name">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Username</mat-label>
        <input matInput type="text" [(ngModel)]="user.username" [readonly]="!editModeUser" name="username" id="username" placeholder="Username">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput type="email" [(ngModel)]="user.email" [readonly]="!editModeUser" name="email" id="email" placeholder="Email">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Telephone</mat-label>
        <input matInput type="tel" [(ngModel)]="user.telephone" [readonly]="!editModeUser" name="telephone" id="telephone" placeholder="Telephone">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Password</mat-label>
        <input matInput [(ngModel)]="user.password" [readonly]="!editModeUser" [type]="hidePassword ? 'password' : 'text'" name="password" id="password">
        <mat-icon matSuffix (click)="togglePassword()">
            {{hidePassword ? 'visibility_off' : 'visibility'}}
        </mat-icon>
        </mat-form-field>

        <button mat-raised-button class="btn btn--primary btn--large" (click)="setEditModeUser(true)" *ngIf="!editModeUser">Edit</button>
        <button mat-raised-button class="btn btn--secondary btn--large" (click)="setEditModeUser(false)" *ngIf="editModeUser">Cancel edit</button>
        <button mat-raised-button class="btn btn--primary btn--large" type="submit" *ngIf="editModeUser">Save Changes</button>
    </form>    
    </div>

    <div class="address-form" *ngIf="userRole === 'CUSTOMER'">
    <form (ngSubmit)="onAddressSubmit()">
        <h2>Fill in your address</h2>

        <mat-form-field appearance="fill">
        <mat-label>Country</mat-label>
        <input matInput [(ngModel)]="address.country" [readonly]="!editModeAddress" name="country" id="country" placeholder="Country">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>County</mat-label>
        <input matInput [(ngModel)]="address.county" [readonly]="!editModeAddress" name="county" id="county" placeholder="County">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>City</mat-label>
        <input matInput [(ngModel)]="address.city" [readonly]="!editModeAddress" name="city" id="city" placeholder="City">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Zip Code</mat-label>
        <input matInput type="number" [(ngModel)]="address.zip_code" [readonly]="!editModeAddress" name="zip_code" id="zip_code" placeholder="Zip Code">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Street</mat-label>
        <input matInput [(ngModel)]="address.street" [readonly]="!editModeAddress" name="street" id="street" placeholder="Street">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>House number</mat-label>
        <input matInput type="number" [(ngModel)]="address.house_number" [readonly]="!editModeAddress" name="house_number" id="house_number" placeholder="House number">
        </mat-form-field>

        <mat-form-field appearance="fill">
        <mat-label>Apartment number</mat-label>
        <input matInput type="number" [(ngModel)]="address.apt_number" [readonly]="!editModeAddress" name="apt_number" id="apt_number" placeholder="Apartment number">
        </mat-form-field>

        <button mat-raised-button class="btn btn--primary btn--large" (click)="setEditModeAddress(true)" *ngIf="!editModeAddress">Edit</button>
        <button mat-raised-button class="btn btn--primary btn--large" (click)="setEditModeAddress(false)" *ngIf="editModeAddress">Cancel edit</button>
        
        <button mat-raised-button class="btn btn--primary btn--large" type="submit" *ngIf="!addressExists && editModeAddress">Add Address</button>
        <button mat-raised-button class="btn btn--primary btn--large" type="submit" *ngIf="addressExists && editModeAddress">Update Address</button>
        
    </form>
    </div>
</div>
